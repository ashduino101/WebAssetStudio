<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>WebAssetStudio</title>
  <meta name="description" content="WebAssetStudio is an online viewer and extractor for game asset bundles.">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="WebAssetStudio">
  <meta property="og:description" content="WebAssetStudio is an online viewer and extractor for game asset bundles.">
  <meta property="og:color" content="#215c7d">

  <link rel="canonical" href="https://webassetstudio.xyz/">

  <link rel="manifest" href="public/site.webmanifest">
  <link rel="apple-touch-icon" href="public/icon.png">

  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/tree.css">
<!--  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2171931658322943"-->
<!--     crossorigin="anonymous"></script>-->
  <meta name="theme-color" content="#3344ff">
</head>

<body>
  <div id="left">
    <div id="left-upper">
      <div id="left-upper-top">
        <label for="file-input" id="file-input-label" class="button">Open...<input type="file" id="file-input"></label>
        <button id="dir-input-button" class="button" style="display: none">Open folder</button>
      </div>
      <div id="options">
        <label><input type="checkbox" id="hide-filtered"> Hide filtered out items</label>
      </div>
      <button id="export-zip" class="button"><i class="bi bi-download"></i>Export .ZIP</button>
    </div>
    <div id="left-lower">
      <div id="info">
        <h2 class="heading">About</h2>
        <p>
          WebAssetStudio is an online tool to view and extract game asset bundles.
          It runs entirely inside your browser using JavaScript and WebAssembly.
          <br><br>
          Currently, it supports Unity assets and asset bundles (.unity3d, .assets, and various other extensions used by games)
          and XNA Game Studio/FNA Framework saved assets (.xnb, .xnb.deploy).
        </p>
        <h2 class="heading">How to use</h2>
        <p>
          Click the 'Open...' button at the top, or drag a file onto the sidebar.
          To save an asset, either click the download button on the right side of the preview pane,
          or to save all assets, click the 'Download ZIP' button.
          <br><br>
          To use the tree, simply expand the root node (named like 'Asset' or 'Bundle'), and browse the tree to find the
          asset you want to extract. Generally, useful assets can be found under 'Objects' in most trees.
          <br><br>
          <b>You are responsible for your actions with this tool.</b>
        </p>
        <h2 class="heading">Contributing</h2>
        <p>
          WebAssetStudio is open-source on <a href="https://github.com/ashduino101/WebAssetStudio">GitHub</a>.
          If you would like to contribute, bug reports and pull requests are welcome. Detailed instructions can
          be found in README.md.
        </p>
      </div>
      <div id="donation">
        <a href="https://www.buymeacoffee.com/ashduino101" class="bottom-inline"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&emoji=&slug=ashduino101&button_colour=FFDD00&font_colour=000000&font_family=Cookie&outline_colour=000000&coffee_colour=ffffff" /></a>
<!--        <script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="ashduino101" data-description="Support me on Buy me a coffee!" data-message="Like WebAssetStudio? Consider donating to help keep development active!" data-color="#26B0A1" data-position="Right" data-x_margin="18" data-y_margin="18"></script>-->
      </div>
    </div>
  </div>

  <div id="center">
    <div id="filter">
      <input type="text" id="filter-input" placeholder="Filter">
      <div id="filter-suggest"></div>
    </div>
    <div id="tree">
      <h2 class="no-preview" id="no-tree">Open a file using the sidebar</h2>
    </div>
  </div>

  <div id="right">
    <div id="preview">
      <h2 class="no-preview">Select an object to preview</h2>
    </div>
    <div id="under-preview">
      <button id="download-info" class="button preview-button">Download info</button>
      <button id="download-object" class="button preview-button">Download object</button>
      <button id="download-raw" class="button preview-button debug-button" style="display: none">Download raw</button>
<!--      <div class="ad">-->
<!--        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2171931658322943"-->
<!--             crossorigin="anonymous"></script>-->
<!--        &lt;!&ndash; underpreview &ndash;&gt;-->
<!--        <ins class="adsbygoogle"-->
<!--             style="display:block"-->
<!--             data-ad-client="ca-pub-2171931658322943"-->
<!--             data-ad-slot="9142899445"-->
<!--             data-ad-format="vertical"-->
<!--             data-full-width-responsive="true"></ins>-->
<!--        <script>-->
<!--             (adsbygoogle = window.adsbygoogle || []).push({});-->
<!--        </script>-->
<!--      </div>-->
    </div>
  </div>

  <div id="darken">
    <div id="modal"></div>
  </div>

  <div id="file-overlay" style="display: none">
    <div id="file-overlay-inner">
      <h1 id="file-overlay-text">Drop a file here to load it</h1>
    </div>
  </div>

  <script src="js/main.js" type="module"></script>

  <script type="module">
    import "./pkg/webassetstudio.js";
    // console.log(was);
  </script>
<script>
  function getCharPtr(ptr) {
    if (ptr === 0) {
      return null;
    }
    let i = 0;
    let b = 1;
    let r = '';
    while (b !== 0) {
      b = HEAPU8[ptr + i];
      if (b !== 0) {
        r += String.fromCharCode(b);
      }
      i++;
    }
    return r;
  }
  function get128(ptr) {
    return HEAPU8.slice(ptr, ptr + 128);
  }
  function setHeap(data, allocFunc) {
    let ptr = allocFunc(data.length);
    HEAPU8.set(data, ptr);
  }
</script>
</body>
</html>
